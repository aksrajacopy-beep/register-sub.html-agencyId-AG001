<!DOCTYPE html>
<html>
<head>
  <title>Host Management Dashboard</title>
</head>

<body>

<h2>Host Management Dashboard</h2>

<input id="name" placeholder="Host Name"><br><br>
<input id="uid" placeholder="Host UID"><br><br>
<input id="phone" placeholder="Phone Number"><br><br>

<select id="status">
  <option value="Active">Active</option>
  <option value="Inactive">Inactive</option>
</select>
<br><br>

<button onclick="addHost()">Add Host</button>
<button onclick="downloadExcel()">Download Excel</button>

<table border="1" style="margin-top:20px" id="hostTable">
  <tr>
    <th>Name</th>
    <th>UID</th>
    <th>Phone</th>
    <th>Status</th>
  </tr>
</table>

<script>
let hosts = JSON.parse(localStorage.getItem("hosts")) || [];

// Page load hote hi purana data dikhao
window.onload = function () {
  hosts.forEach(h => addRow(h));
};

function addHost(){
  let name = document.getElementById("name").value;
  let uid = document.getElementById("uid").value;
  let phone = document.getElementById("phone").value;
  let status = document.getElementById("status").value;

  if(name === "" || uid === ""){
    alert("Name aur UID zaroori hai");
    return;
  }

  let host = { name, uid, phone, status };
  hosts.push(host);

  localStorage.setItem("hosts", JSON.stringify(hosts));

  addRow(host);

  document.getElementById("name").value = "";
  document.getElementById("uid").value = "";
  document.getElementById("phone").value = "";
}

function addRow(h){
  let table = document.getElementById("hostTable");
  let row = table.insertRow();
  row.insertCell(0).innerText = h.name;
  row.insertCell(1).innerText = h.uid;
  row.insertCell(2).innerText = h.phone;
  row.insertCell(3).innerText = h.status;
}

function downloadExcel(){
  let csv = "Name,UID,Phone,Status\n";
  hosts.forEach(h => {
    csv += h.name + "," + h.uid + "," + h.phone + "," + h.status + "\n";
  });

  let file = new Blob([csv], { type: "text/csv" });
  let link = document.createElement("a");
  link.href = URL.createObjectURL(file);
  link.download = "hosts.csv";
  link.click();
}
</script>

</body>
</html>
